<h2 class="text-2xl font-bold text-green-600 text-center py-6">Productos solicitados</h2>

<p-table #ok1
  [value]="products"
  dataKey="_id"
  [paginator]="true"
  [rows]="10"
  [tableStyle]="{ 'min-width': '50rem' }"
  [rowsPerPageOptions]="[10, 20]"
  [rowHover]="true"
  [showCurrentPageReport]="true"
  currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} resultados"
>
  <ng-template #header>
    <tr>
      <th style="width:20%">Nombre</th>
      <th>Tipo</th>
      <th>Altura (cm)</th>
      <th>Ancho (cm)</th>
      <th>Grosor (mm)</th>
      <th>Stock</th>
      <th>Solicitados</th>
      <th>Precio/Unidad</th>
      <th>Precio</th>
      <th class="w-12"></th>
    </tr>
  </ng-template>
  <ng-template #body let-product>
    <tr>
      <td>{{ product.product.name }}</td>
      <td>{{ product.product.type }}</td>
      <td>{{ product.product.height }}</td>
      <td>{{ product.product.width }}</td>
      <td>{{ product.product.thickness }}</td>
      <td>{{ product.product.stock }}</td>
      <td>{{ product.quantity }}</td>
      <td>{{ product.price }} €</td>
      <td>{{ product.price * product.quantity }} €</td>
      <td class="w-12">
        <div class="flex flex-row justify-around items-center">
          <button pButton type="button" [icon]="'pi pi-trash'" class="p-button-danger p-button-text" (click)="onDelete(product)"></button>
        </div>
      </td>
    </tr>
  </ng-template>
  <ng-template #footer>
    <tr class="font-bold">
      <td colspan="7"></td>
      <td>Total:</td>
      <td>{{ totalPrice }} €</td>
      <td></td>
    </tr>
  </ng-template>
</p-table>
<div class="container mx-auto p-8 flex flex-row justify-end gap-4">
  <button pButton type="button" label="Cancelar" class="p-button-danger" [raised]="true" (click)="onCancel()"></button>
  <button pButton type="button" label="Confirmar" class="p-button-success" [raised]="true" (click)="onConfirm()"></button>
</div>
